const { insertMany } = require('../../models/AdminUser')

module.exports = app => {
  const router = require('express').Router()
  const mongoose = require('mongoose')
  const Article = mongoose.model('Article')
  const Category = mongoose.model('Category')
  const Hero = mongoose.model('Hero')

  //导入新闻数据
  router.get('/news/init',async(req,res)=> {
    const parent = await Category.findOne({
      name:'新闻资讯'
    })
    const cats = await Category.find().where({
      parent:parent
    }).lean()
    const newsTitles = [
      "11.14云顶之弈版本更新公告", 
      "英雄联盟 星辰大海主题周末 活动预告", 
      "光明与黑暗 II 云顶宝典以及更多", 
      "问拳头：无法力英雄", 
      "2021年7月9日不停机更新公告", 
      "守护者的坚韧 一起为世界带来美好",
      "LPL夏季赛周末补习班第四期：捡漏的学问", 
      "TOP5：xiaolaohu超能电荷一跃震苍穹", 
      "英雄麦克疯：久旱逢甘露", 
      "峡谷第一线：Angel璐璐奇思妙想游峡谷SN一路驰骋运筹决胜", 
      "TOP5：knight还施彼身月落霜凝华", 
      "TOP5：Xiaohu王剑出鞘贯敌决君命",
      "【透视打野法】 5分钟6级刷野压对手3倍，完全掌控野区", 
      "超神解说：7分钟学会青钢影卡蜜尔，2级单杀，超强对线", 
      "【七夜】峡最高分AD教你大嘴上分", 
      "盲僧万用开局路线公式！青铜学了玩的像钻石", 
      "【枪炮使】版本加强后诞生的隐藏Boss", 
      "超神解说：冷门崛起远古恐惧，15个必学技巧，干货满满",
      "【联盟简史】第23期丨一念天堂，一念地狱", 
      "《英雄联盟》背景故事里各城邦战斗力天花板分别都是谁？为什么？", 
      "新英雄解锁新地区？光明哨兵决战破败王！打响英雄联盟版无限战争", 
      "卢锡安赛娜：我们携手并肩 冲破黑暗【LOL宇宙】", 
      "背景更新！光明哨兵事件开启！薇恩男枪组CP了？", 
      "LOL怀旧：信仰终将凋零！请再舞一曲利刃华尔兹吧", 
      "拳击金克丝与蔚的过去 Arcane最新片段解读以及剧集前瞻", 
      "逐帧解析金克丝动画预告！蔚和金克丝决裂？金克丝并非真名？", 
      "Arcane预告解析！昔日好友或成反派？", 
      "联盟动漫Arcane剧情解读：蔚和金克丝的故事", 
      "LOL动画Arcane正片片段发布 背后主创都是谁？", 
      "探索艾欧尼亚——和谐共处传统与巨变的开始", 
      "剑圣篇：被炼金摧毁家园，无极剑道到底能走多远", 
      "【3D自制动画】源计划全员集结", 
      "#1【联盟小动画】索子哥如何面对超神的狗头？", 
      "蒙多背景更新！皮祖不为人知的黑暗面!【LOL研讨会】"
    ]
    const newsList = newsTitles.map(title => {
      const randomCats = cats.slice(0).sort((a,b) => Math.random()-0.5)
      return {
        title:title,
        categories:randomCats.slice(0,2),
      }
    })
    await Article.deleteMany({})
    await Article.insertMany(newsList)
    res.send(newsList)
  })
  //新闻列表接口
  router.get('/news/list',async(req,res) => {
    const parent = await Category.findOne({
      name:'新闻资讯'
    })
    const cats = await Category.aggregate([
      {$match:{parent:parent._id}},
      {$lookup:{
        from:'articles',
        localField:'_id',
        foreignField:'categories',
        as:'newsList'
      }},
      {$addFields:{
        newsList:{$slice:['$newsList',5]}
      }}
    ])
    const subCats = cats.map(v => v._id)
    cats.unshift({
      name:'综合',
      newsList:await Article.find().where({
        categories:{$in:subCats}
      }).populate('categories').limit(5).lean()
    })
    cats.map(cat => {
      cat.newsList.map(news => {
        news.categoriesName = cat.name==='综合'?news.categories[0].name:cat.name
        return news
      })
      return cat
    })
    res.send(cats)
  })

  //导入英雄数据
  router.get('/heroes/init',async(req,res) =>{
    await Hero.deleteMany({})
    const rawData = [
      {"name":"所有英雄","heroes":[{"title":"黑暗之女","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Annie.png"},{"title":"狂战士","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Olaf.png"},{"title":"正义巨像","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Galio.png"},{"title":"卡牌大师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/TwistedFate.png"},{"title":"德邦总管","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/XinZhao.png"},{"title":"无畏战车","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Urgot.png"},{"title":"诡术妖姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Leblanc.png"},{"title":"猩红收割者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Vladimir.png"},{"title":"远古恐惧","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/FiddleSticks.png"},{"title":"正义天使","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kayle.png"},{"title":"无极剑圣","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/MasterYi.png"},{"title":"牛头酋长","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Alistar.png"},{"title":"符文法师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ryze.png"},{"title":"亡灵战神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sion.png"},{"title":"战争女神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sivir.png"},{"title":"众星之子","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Soraka.png"},{"title":"迅捷斥候","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Teemo.png"},{"title":"麦林炮手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Tristana.png"},{"title":"祖安怒兽","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Warwick.png"},{"title":"雪原双子","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nunu.png"},{"title":"赏金猎人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/MissFortune.png"},{"title":"寒冰射手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ashe.png"},{"title":"蛮族之王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Tryndamere.png"},{"title":"武器大师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Jax.png"},{"title":"堕落天使","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Morgana.png"},{"title":"时光守护者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zilean.png"},{"title":"炼金术士","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Singed.png"},{"title":"痛苦之拥","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Evelynn.png"},{"title":"瘟疫之源","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Twitch.png"},{"title":"死亡颂唱者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Karthus.png"},{"title":"虚空恐惧","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Chogath.png"},{"title":"殇之木乃伊","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Amumu.png"},{"title":"披甲龙龟","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rammus.png"},{"title":"冰晶凤凰","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Anivia.png"},{"title":"恶魔小丑","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Shaco.png"},{"title":"祖安狂人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/DrMundo.png"},{"title":"琴瑟仙女","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sona.png"},{"title":"虚空行者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kassadin.png"},{"title":"刀锋舞者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Irelia.png"},{"title":"风暴之怒","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Janna.png"},{"title":"海洋之灾","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Gangplank.png"},{"title":"英勇投弹手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Corki.png"},{"title":"天启者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Karma.png"},{"title":"瓦洛兰之盾","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Taric.png"},{"title":"邪恶小法师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Veigar.png"},{"title":"巨魔之王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Trundle.png"},{"title":"诺克萨斯统领","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Swain.png"},{"title":"皮城女警","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Caitlyn.png"},{"title":"蒸汽机器人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Blitzcrank.png"},{"title":"熔岩巨兽","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Malphite.png"},{"title":"不祥之刃","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Katarina.png"},{"title":"永恒梦魇","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nocturne.png"},{"title":"扭曲树精","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Maokai.png"},{"title":"荒漠屠夫","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Renekton.png"},{"title":"德玛西亚皇子","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/JarvanIV.png"},{"title":"蜘蛛女皇","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Elise.png"},{"title":"发条魔灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Orianna.png"},{"title":"齐天大圣","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/MonkeyKing.png"},{"title":"复仇焰魂","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Brand.png"},{"title":"盲僧","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/LeeSin.png"},{"title":"暗夜猎手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Vayne.png"},{"title":"机械公敌","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rumble.png"},{"title":"魔蛇之拥","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Cassiopeia.png"},{"title":"水晶先锋","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Skarner.png"},{"title":"大发明家","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Heimerdinger.png"},{"title":"沙漠死神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nasus.png"},{"title":"狂野女猎手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nidalee.png"},{"title":"兽灵行者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Udyr.png"},{"title":"圣锤之毅","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Poppy.png"},{"title":"酒桶","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Gragas.png"},{"title":"不屈之枪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Pantheon.png"},{"title":"探险家","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ezreal.png"},{"title":"铁铠冥魂","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Mordekaiser.png"},{"title":"牧魂人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Yorick.png"},{"title":"离群之刺","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Akali.png"},{"title":"狂暴之心","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kennen.png"},{"title":"德玛西亚之力","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Garen.png"},{"title":"曙光女神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Leona.png"},{"title":"虚空先知","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Malzahar.png"},{"title":"刀锋之影","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Talon.png"},{"title":"放逐之刃","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Riven.png"},{"title":"深渊巨口","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/KogMaw.png"},{"title":"暮光之眼","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Shen.png"},{"title":"光辉女郎","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lux.png"},{"title":"远古巫灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Xerath.png"},{"title":"龙血武姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Shyvana.png"},{"title":"九尾妖狐","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ahri.png"},{"title":"法外狂徒","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Graves.png"},{"title":"潮汐海灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Fizz.png"},{"title":"不灭狂雷","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Volibear.png"},{"title":"傲之追猎者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rengar.png"},{"title":"惩戒之箭","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Varus.png"},{"title":"深海泰坦","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nautilus.png"},{"title":"机械先驱","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Viktor.png"},{"title":"北地之怒","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sejuani.png"},{"title":"无双剑姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Fiora.png"},{"title":"爆破鬼才","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ziggs.png"},{"title":"仙灵女巫","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lulu.png"},{"title":"荣耀行刑官","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Draven.png"},{"title":"战争之影","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Hecarim.png"},{"title":"虚空掠夺者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Khazix.png"},{"title":"诺克萨斯之手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Darius.png"},{"title":"未来守护者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Jayce.png"},{"title":"冰霜女巫","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lissandra.png"},{"title":"皎月女神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Diana.png"},{"title":"德玛西亚之翼","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Quinn.png"},{"title":"暗黑元首","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Syndra.png"},{"title":"铸星龙王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/AurelionSol.png"},{"title":"影流之镰","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kayn.png"},{"title":"暮光星灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zoe.png"},{"title":"荆棘之兴","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zyra.png"},{"title":"虚空之女","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kaisa.png"},{"title":"星籁歌姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Seraphine.png"},{"title":"迷失之牙","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Gnar.png"},{"title":"生化魔人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zac.png"},{"title":"疾风剑豪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Yasuo.png"},{"title":"虚空之眼","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Velkoz.png"},{"title":"岩雀","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Taliyah.png"},{"title":"青钢影","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Camille.png"},{"title":"弗雷尔卓德之心","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Braum.png"},{"title":"戏命师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Jhin.png"},{"title":"永猎双子","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kindred.png"},{"title":"暴走萝莉","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Jinx.png"},{"title":"河流之王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/TahmKench.png"},{"title":"破败之王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Viego.png"},{"title":"涤魂圣枪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Senna.png"},{"title":"圣枪游侠","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lucian.png"},{"title":"影流之主","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zed.png"},{"title":"暴怒骑士","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kled.png"},{"title":"时间刺客","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ekko.png"},{"title":"元素女皇","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Qiyana.png"},{"title":"皮城执法官","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Vi.png"},{"title":"暗裔剑魔","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Aatrox.png"},{"title":"唤潮鲛姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nami.png"},{"title":"沙漠皇帝","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Azir.png"},{"title":"魔法猫咪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Yuumi.png"},{"title":"沙漠玫瑰","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Samira.png"},{"title":"魂锁典狱长","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Thresh.png"},{"title":"海兽祭司","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Illaoi.png"},{"title":"虚空遁地兽","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/RekSai.png"},{"title":"翠神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ivern.png"},{"title":"复仇之矛","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kalista.png"},{"title":"星界游神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Bard.png"},{"title":"幻翎","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rakan.png"},{"title":"逆羽","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Xayah.png"},{"title":"山隐之焰","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ornn.png"},{"title":"解脱者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sylas.png"},{"title":"万花通灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Neeko.png"},{"title":"残月之肃","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Aphelios.png"},{"title":"镕铁少女","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rell.png"},{"title":"血港鬼影","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Pyke.png"},{"title":"封魔剑魂","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Yone.png"},{"title":"腕豪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sett.png"},{"title":"含羞蓓蕾","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lillia.png"},{"title":"灵罗娃娃","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Gwen.png"}]},
      {"name":"战士","heroes":[{"title":"狂战士","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Olaf.png"},{"title":"德邦总管","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/XinZhao.png"},{"title":"无畏战车","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Urgot.png"},{"title":"正义天使","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kayle.png"},{"title":"无极剑圣","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/MasterYi.png"},{"title":"符文法师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ryze.png"},{"title":"亡灵战神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sion.png"},{"title":"祖安怒兽","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Warwick.png"},{"title":"雪原双子","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nunu.png"},{"title":"蛮族之王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Tryndamere.png"},{"title":"武器大师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Jax.png"},{"title":"炼金术士","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Singed.png"},{"title":"披甲龙龟","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rammus.png"},{"title":"祖安狂人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/DrMundo.png"},{"title":"刀锋舞者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Irelia.png"},{"title":"海洋之灾","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Gangplank.png"},{"title":"瓦洛兰之盾","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Taric.png"},{"title":"巨魔之王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Trundle.png"},{"title":"诺克萨斯统领","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Swain.png"},{"title":"蒸汽机器人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Blitzcrank.png"},{"title":"熔岩巨兽","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Malphite.png"},{"title":"永恒梦魇","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nocturne.png"},{"title":"荒漠屠夫","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Renekton.png"},{"title":"德玛西亚皇子","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/JarvanIV.png"},{"title":"蜘蛛女皇","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Elise.png"},{"title":"齐天大圣","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/MonkeyKing.png"},{"title":"盲僧","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/LeeSin.png"},{"title":"机械公敌","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rumble.png"},{"title":"水晶先锋","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Skarner.png"},{"title":"沙漠死神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nasus.png"},{"title":"兽灵行者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Udyr.png"},{"title":"圣锤之毅","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Poppy.png"},{"title":"酒桶","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Gragas.png"},{"title":"不屈之枪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Pantheon.png"},{"title":"铁铠冥魂","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Mordekaiser.png"},{"title":"牧魂人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Yorick.png"},{"title":"德玛西亚之力","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Garen.png"},{"title":"放逐之刃","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Riven.png"},{"title":"龙血武姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Shyvana.png"},{"title":"潮汐海灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Fizz.png"},{"title":"不灭狂雷","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Volibear.png"},{"title":"傲之追猎者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rengar.png"},{"title":"深海泰坦","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nautilus.png"},{"title":"北地之怒","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sejuani.png"},{"title":"无双剑姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Fiora.png"},{"title":"战争之影","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Hecarim.png"},{"title":"诺克萨斯之手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Darius.png"},{"title":"未来守护者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Jayce.png"},{"title":"皎月女神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Diana.png"},{"title":"影流之镰","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kayn.png"},{"title":"迷失之牙","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Gnar.png"},{"title":"生化魔人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zac.png"},{"title":"疾风剑豪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Yasuo.png"},{"title":"青钢影","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Camille.png"},{"title":"破败之王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Viego.png"},{"title":"暴怒骑士","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kled.png"},{"title":"时间刺客","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ekko.png"},{"title":"元素女皇","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Qiyana.png"},{"title":"皮城执法官","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Vi.png"},{"title":"暗裔剑魔","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Aatrox.png"},{"title":"魂锁典狱长","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Thresh.png"},{"title":"海兽祭司","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Illaoi.png"},{"title":"虚空遁地兽","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/RekSai.png"},{"title":"山隐之焰","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ornn.png"},{"title":"封魔剑魂","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Yone.png"},{"title":"腕豪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sett.png"},{"title":"含羞蓓蕾","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lillia.png"},{"title":"灵罗娃娃","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Gwen.png"}]},
      {"name":"法师","heroes":[{"title":"黑暗之女","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Annie.png"},{"title":"正义巨像","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Galio.png"},{"title":"卡牌大师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/TwistedFate.png"},{"title":"诡术妖姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Leblanc.png"},{"title":"猩红收割者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Vladimir.png"},{"title":"远古恐惧","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/FiddleSticks.png"},{"title":"符文法师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ryze.png"},{"title":"众星之子","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Soraka.png"},{"title":"堕落天使","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Morgana.png"},{"title":"时光守护者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zilean.png"},{"title":"痛苦之拥","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Evelynn.png"},{"title":"死亡颂唱者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Karthus.png"},{"title":"虚空恐惧","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Chogath.png"},{"title":"殇之木乃伊","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Amumu.png"},{"title":"冰晶凤凰","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Anivia.png"},{"title":"琴瑟仙女","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sona.png"},{"title":"虚空行者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kassadin.png"},{"title":"风暴之怒","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Janna.png"},{"title":"天启者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Karma.png"},{"title":"邪恶小法师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Veigar.png"},{"title":"诺克萨斯统领","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Swain.png"},{"title":"不祥之刃","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Katarina.png"},{"title":"扭曲树精","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Maokai.png"},{"title":"蜘蛛女皇","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Elise.png"},{"title":"发条魔灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Orianna.png"},{"title":"复仇焰魂","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Brand.png"},{"title":"机械公敌","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rumble.png"},{"title":"魔蛇之拥","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Cassiopeia.png"},{"title":"大发明家","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Heimerdinger.png"},{"title":"狂野女猎手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nidalee.png"},{"title":"酒桶","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Gragas.png"},{"title":"探险家","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ezreal.png"},{"title":"狂暴之心","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kennen.png"},{"title":"虚空先知","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Malzahar.png"},{"title":"深渊巨口","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/KogMaw.png"},{"title":"光辉女郎","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lux.png"},{"title":"远古巫灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Xerath.png"},{"title":"九尾妖狐","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ahri.png"},{"title":"惩戒之箭","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Varus.png"},{"title":"机械先驱","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Viktor.png"},{"title":"爆破鬼才","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ziggs.png"},{"title":"仙灵女巫","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lulu.png"},{"title":"冰霜女巫","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lissandra.png"},{"title":"皎月女神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Diana.png"},{"title":"暗黑元首","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Syndra.png"},{"title":"铸星龙王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/AurelionSol.png"},{"title":"暮光星灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zoe.png"},{"title":"荆棘之兴","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zyra.png"},{"title":"星籁歌姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Seraphine.png"},{"title":"虚空之眼","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Velkoz.png"},{"title":"岩雀","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Taliyah.png"},{"title":"戏命师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Jhin.png"},{"title":"唤潮鲛姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nami.png"},{"title":"沙漠皇帝","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Azir.png"},{"title":"魔法猫咪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Yuumi.png"},{"title":"翠神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ivern.png"},{"title":"星界游神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Bard.png"},{"title":"解脱者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sylas.png"},{"title":"万花通灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Neeko.png"},{"title":"含羞蓓蕾","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lillia.png"}]},
      {"name":"刺客","heroes":[{"title":"德邦总管","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/XinZhao.png"},{"title":"诡术妖姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Leblanc.png"},{"title":"无极剑圣","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/MasterYi.png"},{"title":"迅捷斥候","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Teemo.png"},{"title":"麦林炮手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Tristana.png"},{"title":"蛮族之王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Tryndamere.png"},{"title":"武器大师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Jax.png"},{"title":"痛苦之拥","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Evelynn.png"},{"title":"瘟疫之源","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Twitch.png"},{"title":"恶魔小丑","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Shaco.png"},{"title":"虚空行者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kassadin.png"},{"title":"刀锋舞者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Irelia.png"},{"title":"不祥之刃","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Katarina.png"},{"title":"永恒梦魇","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nocturne.png"},{"title":"盲僧","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/LeeSin.png"},{"title":"暗夜猎手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Vayne.png"},{"title":"狂野女猎手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nidalee.png"},{"title":"不屈之枪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Pantheon.png"},{"title":"离群之刺","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Akali.png"},{"title":"虚空先知","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Malzahar.png"},{"title":"刀锋之影","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Talon.png"},{"title":"放逐之刃","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Riven.png"},{"title":"九尾妖狐","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ahri.png"},{"title":"潮汐海灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Fizz.png"},{"title":"傲之追猎者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rengar.png"},{"title":"无双剑姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Fiora.png"},{"title":"虚空掠夺者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Khazix.png"},{"title":"德玛西亚之翼","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Quinn.png"},{"title":"影流之镰","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kayn.png"},{"title":"疾风剑豪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Yasuo.png"},{"title":"破败之王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Viego.png"},{"title":"影流之主","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zed.png"},{"title":"时间刺客","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ekko.png"},{"title":"元素女皇","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Qiyana.png"},{"title":"皮城执法官","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Vi.png"},{"title":"解脱者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sylas.png"},{"title":"血港鬼影","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Pyke.png"},{"title":"封魔剑魂","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Yone.png"},{"title":"灵罗娃娃","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Gwen.png"}]},
      {"name":"坦克","heroes":[{"title":"狂战士","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Olaf.png"},{"title":"正义巨像","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Galio.png"},{"title":"无畏战车","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Urgot.png"},{"title":"牛头酋长","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Alistar.png"},{"title":"亡灵战神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sion.png"},{"title":"祖安怒兽","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Warwick.png"},{"title":"雪原双子","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nunu.png"},{"title":"炼金术士","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Singed.png"},{"title":"虚空恐惧","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Chogath.png"},{"title":"殇之木乃伊","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Amumu.png"},{"title":"披甲龙龟","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rammus.png"},{"title":"祖安狂人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/DrMundo.png"},{"title":"巨魔之王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Trundle.png"},{"title":"蒸汽机器人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Blitzcrank.png"},{"title":"熔岩巨兽","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Malphite.png"},{"title":"扭曲树精","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Maokai.png"},{"title":"荒漠屠夫","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Renekton.png"},{"title":"德玛西亚皇子","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/JarvanIV.png"},{"title":"齐天大圣","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/MonkeyKing.png"},{"title":"水晶先锋","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Skarner.png"},{"title":"沙漠死神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nasus.png"},{"title":"兽灵行者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Udyr.png"},{"title":"圣锤之毅","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Poppy.png"},{"title":"牧魂人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Yorick.png"},{"title":"德玛西亚之力","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Garen.png"},{"title":"曙光女神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Leona.png"},{"title":"暮光之眼","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Shen.png"},{"title":"龙血武姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Shyvana.png"},{"title":"不灭狂雷","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Volibear.png"},{"title":"深海泰坦","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nautilus.png"},{"title":"北地之怒","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sejuani.png"},{"title":"战争之影","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Hecarim.png"},{"title":"诺克萨斯之手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Darius.png"},{"title":"迷失之牙","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Gnar.png"},{"title":"生化魔人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zac.png"},{"title":"青钢影","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Camille.png"},{"title":"弗雷尔卓德之心","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Braum.png"},{"title":"河流之王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/TahmKench.png"},{"title":"暴怒骑士","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kled.png"},{"title":"暗裔剑魔","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Aatrox.png"},{"title":"海兽祭司","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Illaoi.png"},{"title":"山隐之焰","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ornn.png"},{"title":"镕铁少女","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rell.png"},{"title":"腕豪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sett.png"}]},
      {"name":"射手","heroes":[{"title":"战争女神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sivir.png"},{"title":"迅捷斥候","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Teemo.png"},{"title":"麦林炮手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Tristana.png"},{"title":"赏金猎人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/MissFortune.png"},{"title":"寒冰射手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ashe.png"},{"title":"瘟疫之源","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Twitch.png"},{"title":"英勇投弹手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Corki.png"},{"title":"皮城女警","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Caitlyn.png"},{"title":"暗夜猎手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Vayne.png"},{"title":"探险家","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ezreal.png"},{"title":"狂暴之心","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kennen.png"},{"title":"深渊巨口","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/KogMaw.png"},{"title":"法外狂徒","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Graves.png"},{"title":"惩戒之箭","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Varus.png"},{"title":"荣耀行刑官","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Draven.png"},{"title":"未来守护者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Jayce.png"},{"title":"德玛西亚之翼","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Quinn.png"},{"title":"虚空之女","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kaisa.png"},{"title":"戏命师","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Jhin.png"},{"title":"永猎双子","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kindred.png"},{"title":"暴走萝莉","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Jinx.png"},{"title":"涤魂圣枪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Senna.png"},{"title":"圣枪游侠","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lucian.png"},{"title":"沙漠皇帝","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Azir.png"},{"title":"沙漠玫瑰","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Samira.png"},{"title":"复仇之矛","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kalista.png"},{"title":"逆羽","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Xayah.png"},{"title":"残月之肃","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Aphelios.png"}]},
      {"name":"辅助","heroes":[{"title":"远古恐惧","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/FiddleSticks.png"},{"title":"正义天使","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Kayle.png"},{"title":"牛头酋长","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Alistar.png"},{"title":"众星之子","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Soraka.png"},{"title":"寒冰射手","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ashe.png"},{"title":"堕落天使","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Morgana.png"},{"title":"时光守护者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zilean.png"},{"title":"冰晶凤凰","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Anivia.png"},{"title":"琴瑟仙女","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Sona.png"},{"title":"风暴之怒","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Janna.png"},{"title":"天启者","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Karma.png"},{"title":"瓦洛兰之盾","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Taric.png"},{"title":"蒸汽机器人","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Blitzcrank.png"},{"title":"发条魔灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Orianna.png"},{"title":"大发明家","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Heimerdinger.png"},{"title":"曙光女神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Leona.png"},{"title":"光辉女郎","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lux.png"},{"title":"仙灵女巫","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Lulu.png"},{"title":"暗黑元首","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Syndra.png"},{"title":"暮光星灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zoe.png"},{"title":"荆棘之兴","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Zyra.png"},{"title":"星籁歌姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Seraphine.png"},{"title":"岩雀","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Taliyah.png"},{"title":"弗雷尔卓德之心","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Braum.png"},{"title":"河流之王","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/TahmKench.png"},{"title":"涤魂圣枪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Senna.png"},{"title":"唤潮鲛姬","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Nami.png"},{"title":"魔法猫咪","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Yuumi.png"},{"title":"魂锁典狱长","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Thresh.png"},{"title":"翠神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Ivern.png"},{"title":"星界游神","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Bard.png"},{"title":"幻翎","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rakan.png"},{"title":"万花通灵","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Neeko.png"},{"title":"镕铁少女","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Rell.png"},{"title":"血港鬼影","avatar":"https://game.gtimg.cn/images/lol/act/img/champion/Pyke.png"}]}]
      for(let cat of rawData) {
        if(cat.name === "所有英雄") {
          continue
        }
        //找到当前分类在数据库中对应的数据
        const category = await Category.findOne({
          name:cat.name
        })
        cat.heroes =  cat.heroes.map(hero => {
          hero.categories = [category];
          return hero
        })
        //录入英雄
        await Hero.insertMany(cat.heroes)
      }
      res.send(await Hero.find())
    })

    //英雄列表接口
  router.get('/heroes/list',async(req,res) => {
    const parent = await Category.findOne({
      name:'英雄分类'
    })
    const cats = await Category.aggregate([
      {$match:{parent:parent._id}},
      {$lookup:{
        from:'heroes',
        localField:'_id',
        foreignField:'categories',
        as:'heroList'
      }}
    ])
    const subCats = cats.map(v => v._id)
    cats.unshift({
      name:'热门',
      heroList:await Hero.find().where({
        categories:{$in:subCats}
      }).limit(20).lean()
    })
    
    res.send(cats)
  })

  //文章详情
  router.get('/articles/:id',async(req,res) => {
    const data = await Article.findById(req.params.id).lean()
    data.related = await Article.find().where({
      categories:{$in:data.categories}
    }).limit(2)
    res.send(data)
  })

  router.get('/heroes/:id',async (req,res)=> {
    const data = await Hero
      .findById(req.params.id)
      .populate('categories')
      .lean()
    res.send(data)
  })
  app.use('/web/api',router)
}